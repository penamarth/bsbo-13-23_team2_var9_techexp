Рамки: Информационная система технической экспертизы грантов.  
Уровень: Задача передачи результатов экспертной оценки держателю фонда.

Основной исполнитель: Держатель фонда (Founder).

Дополнительный исполнитель: Сервис приложения (GrantSystemService).

---

## Заинтересованные лица и их требования

- **Соискатель**  
    Хочет, чтобы результаты экспертной оценки его заявки были корректно использованы при принятии решения, а итоговое решение фонда основывалось на всех проведённых экспертизах.
    
- **Независимые эксперты**  
    Хотят, чтобы их оценки (баллы и комментарии в `Evaluation`) были переданы держателю фонда без искажений и потерь, а также были доступны для просмотра при принятии решения.
    
- **Держатель фонда**  
    Хочет получить полную и удобную для анализа информацию по заявке: саму заявку и все привязанные к ней объекты `Evaluation`, чтобы на их основе принять решение о выдаче или отказе в гранте.
    
- **Система**  
    Должна:
    
    - корректно загрузить заявку с уже существующими оценками из репозитория;
    - передать эти данные держателю фонда;
    - обеспечить целостность и непротиворечивость данных при передаче;
    - не изменять сами оценки на этапе передачи.

---

## Предусловия

1. Заявка на грант была подана и успешно сохранена в системе как объект `Application`.
2. Для заявки уже выполнен прецедент «Оценка заявки экспертом»:
    - в репозитории существует экземпляр `Application` с идентификатором `applicationId`;
    - у этого объекта `Application` заполнена коллекция `Evaluations : List<Evaluation>` (одна или несколько оценок).
3. Сервис `GrantSystemService` доступен и имеет доступ к `IApplicationRepository`.
4. Держатель фонда аутентифицирован в системе и инициировал запрос на рассмотрение конкретной заявки (например, выбрал её в интерфейсе по `applicationId`).

---

## Основной сценарий

1. **Инициация запроса**  
    Пользовательский интерфейс (или `Program(Main)`) по действию держателя фонда вызывает метод сервиса:  
    `GetApplicationForFounderReview(applicationId)` (или аналогичный по смыслу).
    
2. **Загрузка заявки**  
    `GrantSystemService` обращается к `IApplicationRepository` с запросом:  
    `FindById(applicationId)`  
    и получает экземпляр `app : Application`, в котором уже содержится список оценок `app.Evaluations`.
    
3. **Передача заявки держателю фонда**  
    Сервис возвращает держателю фонда объект `app` (заявка) вместе с привязанными к ней объектами `Evaluation`.  
    На диаграмме последовательности это шаг:  
    `service --> founderActor: app (Application) с app.Evaluations : List<Evaluation>`.
    
4. **Просмотр результатов экспертизы**  
    Держатель фонда запрашивает у заявки список оценок:
    
    - `founderActor -> app: запрос списка оценок app.Evaluations`
    - `app --> founderActor: List<Evaluation>`
    
    После чего поочерёдно просматривает отдельные оценки:
    
    - для каждого `Evaluation` просматривает `Score` и `Comments`.
5. **Завершение этапа передачи**  
    После изучения всех `Evaluation` держатель фонда уведомляет систему/UI, что получил необходимую информацию и готов перейти к следующему прецеденту — «Принятие решения о выдаче гранта».
    

---

## Постусловия

1. Держатель фонда получил доступ к:
    - полному экземпляру `Application`;
    - всем связанным с ней объектам `Evaluation` (баллы и комментарии экспертов).
2. Ни одна из существующих оценок (`Evaluation`) не была изменена при передаче (сохранена целостность данных).
3. Система завершила операцию передачи данных, и держатель фонда находится в состоянии готовности к выполнению следующего прецедента — «Принятие решения о выдаче гранта».
4. При необходимости может быть зафиксирован факт просмотра заявки и её оценок держателем фонда (логирование или изменение внутреннего статуса просмотра — если это предусмотрено, но новых сущностей не добавляется).

---

## Особенности реализации

- Передаваемые данные ограничиваются уже существующими доменными объектами:
    - `Application` с заполненным `ApplicationData`;
    - коллекция `Evaluation`, в которой `Score` и `Comments` выступают как результаты и комментарии (частные отчёты) экспертов.
- На данном этапе **не создаются новые объекты отчёта** и не модифицируются структуры доменной модели; акцент только на **передаче** уже имеющихся результатов экспертиз.
- Этот прецедент логически следует сразу после «Оценка заявки экспертом» и непосредственно предшествует прецеденту «Держатель фонда принимает решение о выдаче гранта».