Краткое описание: Соискатель инициирует операцию отзыва или редактирования заявки. Система проверяет текущий статус заявки. Если статус позволяет выполнить операцию (например, заявка еще не отправлена на экспертизу), система выполняет действие (удаление или изменение данных) и уведомляет соискателя об успехе. В противном случае система уведомляет соискателя об отказе.

Рамки: Информационная система технической экспертизы грантов.  

Уровень: Задача, выполняемая соискателем.  

Основной исполнитель: Соискатель (Applicant).

Заинтересованные лица и их требования:
Соискатель
- хочет иметь возможность исправить ошибки в заявке до начала её проверки;
- хочет иметь возможность отозвать заявку, если она более не актуальна;
- ожидает однозначный ответ о результатах операции.

Держатель фонда
- хочет, чтобы заявки, переданные на экспертизу, оставались неизменными;
- не желает потери данных после начала оценки.

Система
- должна проверять статус заявки перед изменениями;
- должна обеспечивать целостность данных при редактировании;
- должна корректно удалять заявку только в допустимых статусах;
- должна уведомлять соискателя об успехе или отказе операции.

Предусловия
1. Соискатель аутентифицирован в системе.
2. Заявка существует в хранилище.
3. Заявка находится в статусе, допускающем редактирование или удаление.

Основной сценарий: Удаление заявки
1. Соискатель инициирует операцию удаления, передавая `applicationId` системе.
2. Система (`GrantSystemService`) запрашивает заявку в `IApplicationRepository`.
3. Система получает объект `Application` и проверяет его статус.
4. Если статус допускает удаление:
    - система вызывает `Delete(Application)` в хранилище;
    - заявка удаляется из `IApplicationRepository`;
    - система отправляет соискателю подтверждение успешного удаления.
5. Заявка считается **отозванной и удалённой**.

Основной сценарий: Редактирование заявки
1. Соискатель отправляет системе запрос на редактирование, передавая `applicationId` и новые данные.
2. Система получает заявку из `IApplicationRepository`.
3. Система проверяет текущий статус заявки.
4. Если статус позволяет редактирование:
    - система вызывает метод `Update(Application, data)` у объекта `Application`;
    - объект заявки обновляет свои данные;
    - система сохраняет обновлённые данные в `IApplicationRepository`;
    - система отправляет соискателю подтверждение успешного редактирования.
5. Заявка получает статус **«Отредактирована»** или остаётся в исходном допустимом статусе.

Альтернативный поток (общий для удаления и редактирования)
Заявка не может быть удалена или отредактирована:
1. После проверки статуса система определяет, что заявка находится в одном из недопустимых статусов.
2. Система прекращает выполнение операции.
3. Соискателю отправляется сообщение об ошибке.

Итоговые постусловия
Если операция успешна:
- заявка удалена **или** обновлена и сохранена;
- соискатель получил подтверждение.
Если операция невозможна:
- данные заявки остаются неизменными;
- пользователю отправлено обоснованное сообщение об отказе.

Особенности реализации
1. Контроль статуса перед изменением (Редактирование доступно только для заявок в статусах «Черновик» и «Подана». Если заявка перешла в статус На проверке» или «Решение принято», система блокирует любые изменения.)
2. Проверка прав доступа (Редактирование и удаление доступны только пользователю, создавшему заявку)

Частота использования
- Высокая в период активного заполнения заявок соискателями.  
    Пользователи часто возвращаются к черновикам, дополняют данные, корректируют введённую информацию.
- Средняя в период проверки заявок.  
    Заявки редактируются редко, но функция удаления может использоваться для корректировки ошибочно поданных обращений.
- Низкая после завершения приёмной кампании.  
    Редактирование и удаление практически не используются после того, как заявки перешли в финальные статусы.